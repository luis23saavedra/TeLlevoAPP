<ion-header>
  <ion-toolbar>
    <ion-title>registro</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="fondo letra">

  <form action="" #formulario="ngForm" (ngSubmit)="guardarDatos()">
    
    <div class="margin-superior letra">
      <ion-row >
          <ion-col size="12">
            Nombre
          </ion-col>
          <ion-col size="12">
            <mat-form-field appearance="fill" class="letra" >
              <input matInput placeholder="Ingrese su nombre" name="nombre" type="text" minlength=3 maxlength=10 class="letra" [(ngModel)]="datos.nombre" #nombre="ngModel" pattern="^[a-zA-ZñÑáéíóúÁÉÍÓÚ]+$" required>
              <!-- <mat-error *ngIf="nombre.invalid">{{getErrorNombre()}}</mat-error> -->
              <!-- ESTAS VALIDACIONES SE VAN A OCUPAR ELIMINAR LAS VALIDACIONES DEL TS, VISITAR LA PÁGINA DE ANGULAR Y BORRAR LOS MAT-ERROR ANTERIORES -->
              <mat-error *ngIf="nombre.errors?.['required']">
                Debes ingresar tu nombre.
              </mat-error>
              <mat-error *ngIf="nombre.errors?.['pattern']">
                Nombre inválido.
              </mat-error>
              <mat-error *ngIf="nombre.errors?.['minlength']">
                Debes ingresar al menos 3 carácteres.
              </mat-error>
            </mat-form-field>
          </ion-col>  
      </ion-row>
    </div>
    
    <div class="margin-contenido letra">
      <ion-row >
          <ion-col size="12">
            Apellido
          </ion-col>
          <ion-col size="12">
            <mat-form-field appearance="fill" class="letra" >
              <input matInput placeholder="Ingrese su apellido" name="apellido" type="text" minlength=3 maxlength=10  class="letra" [(ngModel)]="datos.apellido" #apellido="ngModel" pattern="^[a-zA-ZñÑáéíóúÁÉÍÓÚ]+$" required>
              <!-- <mat-error *ngIf="apellido.invalid">{{getErrorApellido()}}</mat-error> -->
              <mat-error *ngIf="apellido.errors?.['required']">
                Debes ingresar tu apellido.
              </mat-error>
              <mat-error *ngIf="apellido.errors?.['pattern']">
                Apellido inválido.
              </mat-error>
              <mat-error *ngIf="apellido.errors?.['minlength']">
                Debes ingresar al menos 4 carácteres.
              </mat-error>
            </mat-form-field>
          </ion-col>  
      </ion-row>
    </div>
    
    <div class="margin-contenido letra">
      <ion-row >
          <ion-col size="12">
            Nombre Usuario
          </ion-col>
          <ion-col size="12">
            <mat-form-field appearance="fill" class="letra" >
              <input matInput placeholder="Ingrese su usuario" name="usuario" minlength=3 maxlength=10 class="letra" #usuario="ngModel"  [(ngModel)]="datos.usuario" required>
              <!-- <mat-error *ngIf="usuario.invalid">{{getErrorUsuario()}}</mat-error> -->
              <mat-error *ngIf="usuario.errors?.['required']">
                Debes ingresar tu usuario.
              </mat-error>
              <!-- <mat-error *ngIf="usuario.errors?.['pattern']">
                Usuario inválido.
              </mat-error> -->
              <mat-error *ngIf="usuario.errors?.['minlength']">
                Debes ingresar al menos 4 carácteres.
              </mat-error>
            </mat-form-field>
          </ion-col>  
      </ion-row>
    </div>

    <div class="margin-contenido letra">
      <ion-row >
          <ion-col size="12">
            Correo Electrónico
          </ion-col>
          <ion-col size="12">
            <mat-form-field appearance="fill" class="letra" >
              <input matInput placeholder="Ingrese su correo electrónico" name="email"
               class="letra" [formControl]="email" [(ngModel)]="datos.email" required>
              <mat-error *ngIf="email.invalid">{{getErrorMessage()}}</mat-error>
            </mat-form-field>
          </ion-col>  
      </ion-row>
    </div>

    <div class="margin-contenido letra">
      <ion-row >
          <ion-col size="12">
            Contraseña
          </ion-col>
          <ion-col size="12">
            <mat-form-field appearance="fill" class="letra" >
              <input matInput placeholder="Ingrese su contraseña" name="contrasenia" type="password" minlength=5 maxlength=5 class="letra" #contrasenia="ngModel" pattern="^[0-9]+$" [(ngModel)]="datos.contrasenia" required>
              <!-- <mat-error *ngIf="contrasenia.invalid">{{getErrorContrasenia()}}</mat-error> -->
              <mat-error *ngIf="contrasenia.errors?.['required']">
                Debes ingresar tu contrasenia.
              </mat-error>
              <mat-error *ngIf="contrasenia.errors?.['pattern']">
                La contraseña debe contener sólo números.
              </mat-error>
              <mat-error *ngIf="contrasenia.errors?.['minlength']">
                La contraseña debe contener 5 números.
              </mat-error>
            </mat-form-field>
          </ion-col>  
      </ion-row>
    </div>

    <div class="margin-contenido letra">
      <ion-row >
          <ion-col size="12">
            Confirmar Contraseña
          </ion-col>
          <ion-col size="12">
            <mat-form-field appearance="fill" class="letra" >
              <input matInput placeholder="Confirme su contraseña" name="confirmarContrasenia" type="password" minlength=5 maxlength=5 minlength=5 maxlength=5 #confirmarContrasenia="ngModel" pattern="^[0-9]+$" class="letra" [(ngModel)]="datos.confirmarContrasenia" required>
              <mat-error *ngIf="confirmarContrasenia.errors?.['required']">
                Debes confirmar tu contrasenia.
              </mat-error>
              <mat-error *ngIf="confirmarContrasenia.errors?.['pattern']">
                Las contraseñas no coinciden.
              </mat-error>
              <mat-error *ngIf="confirmarContrasenia.errors?.['minlength']">
                Debes ingresar 5 números.
              </mat-error>
              <mat-error class="confirmar-contrasenia" *ngIf="contador>0">{{getConfirmaContrasenia()}}</mat-error>
            </mat-form-field>
          </ion-col>  
      </ion-row>
    </div>

    <ion-row>
      <div class="example-button-row">
        <button mat-flat-button [disabled]="formulario.invalid" type="submit" class="margenb" [routerLink]="['/registro']" (click)="guardarDatos()">Registrar</button>
      </div> 
    </ion-row>

  </form>
</ion-content>
